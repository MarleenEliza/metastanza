{"version":3,"file":"overview_dev2.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/overview_dev2/index.js"],"sourcesContent":["import * as d3 from 'd3';\nimport metastanza from '@/lib/metastanza_utils.js';\n\nexport default async function overviewDev2(stanza, params) {\n  stanza.render({\n    template: 'stanza.html.hbs',\n    parameters: {\n    }\n  });\n  \n  let apis = JSON.parse(params.apis);\n  if (typeof apis == \"object\") draw(stanza.root.querySelector('#chart'), apis, []);\n}\n\nasync function draw(element, apis, body) {\n  const labelMargin = 100;\n  const width = 700;\n  const height = 50;\n  \n  let dataset = {};\n  for (let api of apis) {\n    dataset[api] = await metastanza.getFormatedJson(api, element, body.join(\"&\"));\n  }\n  \n\n  for (let id = 0; id < apis.length; id++) {\n    let api = apis[id];\n    // first render\n    let div = d3.select(element).append(\"div\").attr(\"id\", \"div_\" + id).attr(\"class\", \"bar\");\n    let svg = div.append(\"svg\").attr(\"width\", width + labelMargin).attr(\"height\", height);\n    svg.append(\"text\").attr(\"x\", 0).attr(\"y\", height / 2).attr(\"alignment-baseline\", \"central\").text(dataset[api].type);\n    \n    [dataset[api].data, dataset[api].total] = setData(dataset[api].data, width, height, labelMargin);\n    dataset[api].id = id;\n    \n    svg.attr(\"id\", \"svg_\" + dataset[api].type.replace(/\\s/g, \"_\"));\n    svg.selectAll(\".na-bar\")\n      .data(dataset[api].data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", function(d){ return d.barStart }).attr(\"y\", 0)\n      .attr(\"width\", function(d){ return d.targetBarWidth }).attr(\"height\", height)\n      .attr(\"width\", width + labelMargin).attr(\"height\", height)\n      .attr(\"class\", \"na-bar\")\n      .on(\"mouseover\", function(e, d){\n\tlet rect = this;\n\tlet mouse = d3.pointer(e);\n\tsvg.append(\"text\").attr(\"id\", d.onclick_list[0].id).text(d.label + \": \" + d.count + \"/\" + d.origCount)\n\t  .attr(\"x\", function(d){\n\t    if (mouse[0] > width / 2 + labelMargin) return mouse[0] - 10;\n\t    return mouse[0] + 10;\n\t  })\n\t  .attr(\"y\", height / 2)\n\t  .attr(\"alignment-baseline\", \"central\")\n\t  .attr(\"text-anchor\", function(){\n\t    if (mouse[0] > width / 2 + labelMargin) return \"end\";\n\t  });\n      })\n      .on(\"mouseout\", function(e, d){ svg.select(\"text#\" + d.onclick_list[0].id).remove() })\n      .on(\"click\", async function(e, d){\n\t// re-render\n\tlet flag = true;\n\tfor (let i = 0; i < body.length; i++) {\n\t  if (body[i].match(/(\\w+)=/)[1] == dataset[api].type) {\n\t    body[i] += \",\" + d.onclick_list[0].id;\n\t    flag = false;\n\t  }\n\t}\n\tif (flag) body.push(dataset[api].type + \"=\" + d.onclick_list[0].id);\n\tfor (let api of apis) {\n\t  getDataAndRender(element, api, body, dataset);\n\t}\n      });\n    \n    svg.selectAll(\".target-bar\")\n      .data(dataset[api].data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", function(d){ return d.barStart }).attr(\"y\", 0)\n      .attr(\"width\", function(d){ return d.targetBarWidth }).attr(\"height\", height)\n      .attr(\"id\", function(d){ return d.onclick_list[0].id })\n      .attr(\"class\", function(d, i){\n\tif (d.label != \"None\") return \"target-bar bar-style-\" + i;\n\treturn \"bar-style-na\";\n      })\n      .on(\"mouseover\", function(e, d){\n\tlet rect = this;\n\tlet mouse = d3.pointer(e);\n\tsvg.append(\"text\").attr(\"id\", d.onclick_list[0].id).text(d.label + \": \" + d.count + \"/\" + d.origCount)\n\t  .attr(\"x\", function(d){\n\t    if (mouse[0] > width / 2 + labelMargin) return mouse[0] - 10;\n\t    return mouse[0] + 10;\n\t  })\n\t  .attr(\"y\", height / 2)\n\t  .attr(\"alignment-baseline\", \"central\")\n\t  .attr(\"text-anchor\", function(){\n\t    if (mouse[0] > width / 2 + labelMargin) return \"end\";\n\t  });\n      })\n      .on(\"mouseout\", function(e, d){ svg.select(\"text#\" + d.onclick_list[0].id).remove() })\n      .on(\"click\", async function(e, d){\n\t// re-render\n\tlet flag = true;\n\tfor (let i = 0; i < body.length; i++) {\n\t  if (body[i].match(/(\\w+)=/)[1] == dataset[api].type) {\n\t    body[i] += \",\" + d.onclick_list[0].id;\n\t    flag = false;\n\t  }\n\t}\n\tif (flag) body.push(dataset[api].type + \"=\" + d.onclick_list[0].id);\n\tfor (let api of apis) {\n\t  getDataAndRender(element, api, body, dataset);\n/*\t  let newData = await metastanza.getFormatedJson(api, element, body.join(\"&\"));\n\t  dataset[api].data = changeData(dataset[api].data, newData.data, width, height, labelMargin);\n\t  reRender(element, dataset[api]); */\n\t}\n      });\n  }\n\n  let initDataset = JSON.parse(JSON.stringify(dataset));\n  d3.select(element).append(\"p\").html(\"reset\").style(\"cursor\", \"pointer\")\n    .on(\"click\", function(){\n      // reset-render\n      body = [];\n      for (let api of apis) {\n\tdataset[api].data = changeData(dataset[api], JSON.parse(JSON.stringify(initDataset[api].data)), width, height, labelMargin);\n\treRender(element, dataset[api]);\n      }\n    });\n\n  async function getDataAndRender(element, api, body, dataset){\n    let newData = await metastanza.getFormatedJson(api, element.querySelector('#div_' + dataset[api].id), body.join(\"&\"));\n    dataset[api].data = changeData(dataset[api], newData.data, width, height, labelMargin);\n    reRender(element, dataset[api]);\n  };\n  \n  function reRender(element, dataset){\n    console.log(dataset.data);\n    let svg = d3.select(element).select(\"#svg_\" + dataset.type.replace(/\\s/g, \"_\"));\n    svg.selectAll(\".target-bar\")\n      .data(dataset.data)\n      .transition()\n      .delay(200)\n      .duration(1000)\n      .attr(\"x\", function(d){ return d.barStart })\n      .attr(\"width\", function(d){ return d.targetBarWidth });\n  };\n  \n  function setData(data, width, height, labelMargin){\n    let total = 0;\n    for (let category of data) {\n      total += parseFloat(category.count);\n    }\n    \n    let start = labelMargin;\n    for (let i = 0; i < data.length; i++) {\n      let barWidth =  width * parseFloat(data[i].count) / total;\n      if (data.length - 1 == i) barWidth = width - start + labelMargin;\n      data[i].origCount = data[i].count;\n      data[i].barStart = start;\n      data[i].barWidth = barWidth;\n      data[i].targetBarWidth = 0;\n      start += barWidth;\n    }\n    data.push({\n      label: \"None\",\n      count: \"0\",\n      barStart: width + labelMargin,\n      barWidth: 0,\n      onclick_list: [{id: \"n-a\"}]\n    });\n    return [data, total];\n  };\n  \n  function changeData(dataset, newData, width, height, labelMargin){\n    let data = dataset.data;\n    let label2data = {};\n    if (!newData[0]) {\n      newData = [{\n\tlabel: \"None\",\n\tcount: \"1\",\n\tonclick_list: [{id: \"n-a\"}]\n      }];\n    }\n    let total = 0;\n    for (let category of data) {\n      total += parseFloat(category.count);\n    }\n    for (let category of newData) {\n      label2data[category.label] = category;\n    }\n    let start = labelMargin;\n    for (let i = 0; i < data.length; i++) {\n      if (label2data[data[i].label]) data[i].count = label2data[data[i].label].count;\n      else data[i].count = 0;\n      let targetBarWidth =  width * parseFloat(data[i].count) / dataset.total;\n      if (data.length - 1 == i) targetBarWidth = width - start + labelMargin;\n      data[i].targetBarWidth = targetBarWidth;\n      start += targetBarWidth;\n    }\n    return data;\n  };\n}\n"],"names":["d3.select","d3.pointer"],"mappings":"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"}